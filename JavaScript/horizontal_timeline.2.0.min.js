/* -------------------------------- 
Horizontal Timeline 2.0
by Studocwho @ yCodeTech
Version: 2.0.5-alpha.3.1
Original Horizontal Timeline by CodyHouse
Licensed under the MIT license	
Docs at http://horizontal-timeline.ycodetech.co.uk
-------------------------------- */
!function(e,t,n,s){var a="horizontalTimeline",l={desktopDateIntervals:200,tabletDateIntervals:150,mobileDateIntervals:120,minimalFirstDateInterval:!0,dateDisplay:"dateTime",dateOrder:"normal",autoplay:!1,autoplaySpeed:8,autoplayPause_onHover:!1,useScrollWheel:!1,useTouchSwipe:!0,useKeyboardKeys:!1,addRequiredFile:!0,useFontAwesomeIcons:!0,useNavBtns:!0,useScrollBtns:!0,iconBaseClass:"fas fa-3x",scrollLeft_iconClass:"fa-chevron-circle-left",scrollRight_iconClass:"fa-chevron-circle-right",prev_iconClass:"fa-arrow-circle-left",next_iconClass:"fa-arrow-circle-right",pause_iconClass:"fa-pause-circle",play_iconClass:"fa-play-circle",animation_baseClass:"animationSpeed",enter_animationClass:{left:"enter-left",right:"enter-right"},exit_animationClass:{left:"exit-left",right:"exit-right"}};function r(t,i){this.element=t,this.settings=e.extend({},l,i),this._defaults=l,this._name=a,this.$element=e(t),this.init()}r.prototype.init=function(){var i=this;if(0==this.$element.find("li").length&&this.$element.css("opacity",1).html("<h3>There are no events at this point in time.<br><br>Please add some content.</h3>"),1==this.settings.useFontAwesomeIcons){this._addFile("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css","css")}this._create(),t.setTimeout(e.proxy(function(){var t,n={};if(this._timelineComponents(n),this.init.addIdsAndClasses=function(e){e._timelineComponents(n),1==n.eventsContentList.length?(n.eventsContentList.first().attr("id","first"),n.timelineEvents.first().addClass("first")):(n.eventsContentList.addClass(e.settings.animation_baseClass).first().attr("id","first").end().last().attr("id","last"),n.timelineEvents.first().addClass("first").end().last().addClass("last"))},this.init.addIdsAndClasses(this),n.eventsContentList.hasClass("selected")){var s=this._timelineData(n.eventsContentSelected,"date");(l=n.eventsWrapper.find("a").filter(e.proxy(function(t,i){if(this._timelineData(e(i),"date")==s)return e(i)},this))).addClass("selected"),this._updateOlderEvents(l)}else if("normal"==this.settings.dateOrder){n.eventsWrapper.find("a.first").addClass("selected");var a=n.eventsWrapper.find("a.selected"),l=this._timelineData(a,"date");n.eventsContent.find("li").filter(e.proxy(function(t,i){this._timelineData(e(i),"date")==l&&e(i).addClass("selected")},this))}else if("reverse"==this.settings.dateOrder){n.eventsWrapper.find("a.last").addClass("selected");a=n.eventsWrapper.find("a.selected"),l=this._timelineData(a,"date");n.eventsContent.find("li").filter(e.proxy(function(t,i){this._timelineData(e(i),"date")==l&&e(i).addClass("selected")},this)),this._updateOlderEvents(a)}this._setDatePosition(n),t=this._setTimelineWidth(n),this._updateFilling(n.eventsWrapper.find("a.selected"),n.fillingLine,t),this.$element.addClass("loaded"),this._setup(i,n,t)},this),300)},r.prototype._create=function(){var t='<div class="events-wrapper"><div class="events"><span class="filling-line" aria-hidden="true"></span></div></div>',i='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.scrollLeft_iconClass+' scroll-left inactive"></a>',n='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.prev_iconClass+' prev inactive"></a>',s='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.next_iconClass+' next"></a>',a='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.scrollRight_iconClass+' scroll-right"></a>',l='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.pause_iconClass+' pause"></a>';this.$element.prepend('<div class="timeline"></div>');var r=this.$element.find(".timeline");1==this.settings.useNavBtns||1==this.settings.useScrollBtns?(r.append('<div class="timeline-navigation" id="leftNav"></div>').append(t).append('<div class="timeline-navigation" id="rightNav"></div>'),0==this.settings.useNavBtns&&1==this.settings.useScrollBtns?r.find("#leftNav").append(i).end().find("#rightNav").append(a):1==this.settings.useNavBtns&&0==this.settings.useScrollBtns?r.find("#leftNav").append(n).end().find("#rightNav").append(s):1==this.settings.useNavBtns&&1==this.settings.useScrollBtns&&r.find("#leftNav").append(i).append(n).end().find("#rightNav").append(s).append(a)):(r.append(t),r.find(".events-wrapper").css("min-width","100%")),1==this.settings.autoplay&&r.append('<div class="timeline-navigation" id="pausePlay"></div>').find("#pausePlay").append(l),this._create.date=function(t,i,n){if("normal"==t.settings.dateOrder)var s=t.$element.children(".events-content").find("li");else if("reverse"==t.settings.dateOrder)var s=e(t.$element.children(".events-content").find("li").get().reverse());"dateTime"==t.settings.dateDisplay?s.each(function(){t._create.eventDateDisplay(t,e(this),"dateTime",i,n)}):"date"==t.settings.dateDisplay?s.each(function(){t._create.eventDateDisplay(t,e(this),"date",i,n)}):"time"==t.settings.dateDisplay?s.each(function(){t._create.eventDateDisplay(t,e(this),"time",i,n)}):"dayMonth"==t.settings.dateDisplay?s.each(function(){t._create.eventDateDisplay(t,e(this),"dayMonth",i,n)}):"monthYear"==t.settings.dateDisplay?s.each(function(){t._create.eventDateDisplay(t,e(this),"monthYear",i,n)}):"year"==t.settings.dateDisplay&&s.each(function(){t._create.eventDateDisplay(t,e(this),"year",i,n)})},this._create.eventDateDisplay=function(t,i,n,s,a){var l=t._timelineData(i,"date"),r=l.includes("T"),o=!r&&l.includes(":"),d="dateTime"==n,p="date"==n,h="time"==n,f="dayMonth"==n,u="monthYear"==n,c="year"==n,m=t.$element.find(".events"),v='<a href="" data-horizontal-timeline=\'{"date": "'+l+"\"}'>";if(void 0!==a||null!=a)var _=m.find("a").filter(function(){var i=t._timelineData(e(this),"date");if(i==a)return e(this)});function g(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function y(e){return[null,"January","February","March","April","May","June","July","August","September","October","November","December"][e]}var C=m.children("a").map(function(){if(e(this).data("horizontal-timeline")){var t=e(this).data("horizontal-timeline");return t.date}var i=e(this).data("date");return i}).get();if(-1==jQuery.inArray(l,C))if(r){var b=l.split("T"),w=b[0],x=b[1],D=w.split("/"),W=D[0].replace(/^0+/,""),T=D[1].replace(/^0+/,""),O=D[2],N=t._timelineData(i,"customDisplay");void 0!==N?"append"==s?m.append(v+N+"</a>"):"after"==s?_.after(v+N+"</a>"):_.before(v+N+"</a>"):d?"append"==s?m.append(v+w+"<br>"+x+"</a>"):"after"==s?_.after(v+w+"<br>"+x+"</a>"):_.before(v+w+"<br>"+x+"</a>"):p?"append"==s?m.append(v+w+"</a>"):"after"==s?_.after(v+w+"</a>"):_.before(v+w+"</a>"):h?"append"==s?m.append(v+x+"</a>"):"after"==s?_.after(v+x+"</a>"):_.before(v+x+"</a>"):f?"append"==s?m.append(v+W+g(W)+"<br>"+y(T)+"</a>"):"after"==s?_.after(v+W+g(W)+"<br>"+y(T)+"</a>"):_.before(v+W+g(W)+"<br>"+y(T)+"</a>"):u?"append"==s?m.append(v+y(T)+"<br>"+O+"</a>"):"after"==s?_.after(v+y(T)+"<br>"+O+"</a>"):_.before(v+y(T)+"<br>"+O+"</a>"):c&&("append"==s?m.append(v+O+"</a>"):"after"==s?_.after(v+O+"</a>"):_.before(v+O+"</a>"))}else if(o){var x=l,N=t._timelineData(i,"customDisplay");void 0!==N?"append"==s?m.append(v+N+"</a>"):"after"==s?_.after(v+N+"</a>"):_.before(v+N+"</a>"):(d||h)&&("append"==s?m.append(v+x+"</a>"):"after"==s?_.after(v+x+"</a>"):_.before(v+x+"</a>"))}else{var w=l,D=w.split("/"),W=D[0].replace(/^0+/,""),T=D[1].replace(/^0+/,""),O=D[2],N=t._timelineData(i,"customDisplay");void 0!==N?"append"==s?m.append(v+N+"</a>"):"after"==s?_.after(v+N+"</a>"):_.before(v+N+"</a>"):d||p?"append"==s?m.append(v+w+"</a>"):"after"==s?_.after(v+w+"</a>"):_.before(v+w+"</a>"):f?"append"==s?m.append(v+W+g(W)+"<br>"+y(T)+"</a>"):"after"==s?_.after(v+W+g(W)+"<br>"+y(T)+"</a>"):_.before(v+W+g(W)+"<br>"+y(T)+"</a>"):u?"append"==s?m.append(v+y(T)+"<br>"+O+"</a>"):"after"==s?_.after(v+y(T)+"<br>"+O+"</a>"):_.before(v+y(T)+"<br>"+O+"</a>"):c&&("append"==s?m.append(v+O+"</a>"):"after"==s?_.after(v+O+"</a>"):_.before(v+O+"</a>"))}},this._create.date(this,"append")},r.prototype._timelineComponents=function(e){e.eventsContent=this.$element.children(".events-content"),e.eventsContentList=e.eventsContent.find("li"),e.eventsContentSelected=e.eventsContent.find("li.selected"),e.timelineWrapper=e.eventsContent.parent().find(".events-wrapper"),e.eventsWrapper=e.timelineWrapper.children(".events"),e.fillingLine=e.eventsWrapper.children(".filling-line"),e.timelineEvents=e.eventsWrapper.find("a"),e.timelineNavigation=e.timelineWrapper.siblings(".timeline-navigation")},r.prototype._setup=function(i,s,a){var l,r,o,d,p=this.$element.attr("id");if(this._setup.mobileResizeFix=function(i){var n=this.$element.data("plugin_"+this._name).windowWidth,s=e(t).width();s!==n&&this.refresh(),this.$element.data("plugin_"+this._name).windowWidth=s},e(t).on("resize."+this._name+"_"+p,(l=e.proxy(this._setup.mobileResizeFix,this),r=250,function(){var e=this,t=arguments,i=o&&!d;clearTimeout(d),d=setTimeout(function(){d=null,o||l.apply(e,t)},r),i&&l.apply(e,t)})),this.$element.on("click."+this._name,".timeline-navigation .inactive",function(e){return e.stopImmediatePropagation(),!1}).on("click."+this._name,".timeline-navigation a",e.proxy(function(){event.preventDefault();var t=e(event.target);this._timelineComponents(s),a=this._setTimelineWidth(s),t.is(".next")&&this._showNewContent(s,a,"next"),t.is(".prev")&&this._showNewContent(s,a,"prev"),t.is(".scroll-right")&&this._updateSlide(s,a,"right"),t.is(".scroll-left")&&this._updateSlide(s,a,"left")},this)).on("click."+this._name,".events a",e.proxy(function(){event.preventDefault();var t=e(event.target);this._timelineComponents(s),this.$element.find(".events").find("a").removeClass("selected"),t.addClass("selected"),this._updateOlderEvents(t),a=this._setTimelineWidth(s),this._updateFilling(t,s.fillingLine,a),this._updateVisibleContent(t,s.eventsContent),this._updateTimelinePosition(t,s,a)},this)),1==this.settings.autoplay){var h=s.timelineNavigation.find(".pause")[0];if(s.eventsContent.prepend('<div class="progressBarWrapper"><div class="progressBar"></div></div>'),this._setup.autoplay=function(t){var i,n,a,l,r,o=Number(t.settings.autoplaySpeed);t.$element.find("#pausePlay");function d(){if(i=t.$element.data("plugin_"+t._name).autoplay.isPaused,this._timelineComponents(s),!1===i&&this._elementInViewport(this.element)){var e=this._checkMQ();a+="tinyMobile"==e||"mobile"==e?3/o:1/o,this.$element.find(".progressBar").css({width:a+"%"}),l=s.eventsWrapper.find(".selected").index(),a>=100&&("normal"==this.settings.dateOrder&&l==this._setup.autoplay.countEvents()||"reverse"==this.settings.dateOrder&&1==l?(this._showNewContent(s,r,"start"),l=s.eventsWrapper.find(".selected").index()):"normal"==this.settings.dateOrder?this._showNewContent(s,r,"next"):"reverse"==this.settings.dateOrder&&this._showNewContent(s,r,"prev"))}}t.$element.data("plugin_"+t._name).autoplay={isPaused:!1,mouseEvent:!1},t._timelineComponents(s),t._setup.autoplay.countEvents=function(){return s.timelineEvents.length},t._setup.autoplay.start=function(t){a=0,t._timelineComponents(s),r=t._setTimelineWidth(s),n=setInterval(e.proxy(d,t),10)},t._setup.autoplay.pause=function(){t.$element.data("plugin_"+t._name).autoplay.isPaused=!0},t._setup.autoplay.resume=function(){t.$element.data("plugin_"+t._name).autoplay.isPaused=!1},t._setup.autoplay.moved=function(e){e._setup.autoplay.destroy(),e._setup.autoplay.start(e)},t._setup.autoplay.changeButtons=function(e){var t=e.data,i=t[0],n=t[1],s=t[2],a=this.$element.find("#pausePlay"),l='<a href="" class="'+this.settings.iconBaseClass+" "+this.settings.play_iconClass+' play"></a>';"click"==e.type&&1==i?(a.addClass("clicked"),this.$element.data("plugin_"+this._name).autoplay.mouseEvent="click",a.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+s+".")):"click"!=e.type||i||(a.removeClass("clicked"),this.$element.data("plugin_"+this._name).autoplay.mouseEvent=!1,a.html(n),this._setup.autoplay.resume(),console.log("Autoplay is "+s+"."));"mouseenter"!=e.type||a.hasClass("clicked")?"mouseleave"!=e.type||a.hasClass("clicked")||(this.$element.data("plugin_"+this._name).autoplay.mouseEvent=!1,a.html(n),this._setup.autoplay.resume(),console.log("Autoplay is "+s+".")):(this.$element.data("plugin_"+this._name).autoplay.mouseEvent="hover",a.html(l),this._setup.autoplay.pause(),console.log("Autoplay is "+s+"."))},t._setup.autoplay.refresh=function(e){e._timelineComponents(s),r=e._setTimelineWidth(s)},t._setup.autoplay.destroy=function(){clearInterval(n)},t._setup.autoplay.start(t)},this._setup.autoplay(this),this.$element.on("click."+this._name,".timeline-navigation .pause",[!0,h,"paused"],e.proxy(this._setup.autoplay.changeButtons,this)).on("click."+this._name,".timeline-navigation .play",[!1,h,"playing"],e.proxy(this._setup.autoplay.changeButtons,this)),1==this.settings.autoplayPause_onHover){var f=this._checkMQ();"smallTablet"!=f&&"tablet"!=f&&"desktop"!=f||this.$element.on("mouseenter."+this._name,".events-content",[!1,h,"paused"],e.proxy(this._setup.autoplay.changeButtons,this)).on("mouseleave."+this._name,".events-content",[!1,h,"playing"],e.proxy(this._setup.autoplay.changeButtons,this))}}var u=e(".goto-horizontal-timeline");if(u.length>0){u.on("click."+this._name,function(t){t.preventDefault();var i={},n=e(t.target),s=n.attr("href"),a="#"==s;if(a){var l="#"+n.parents(".horizontal-timeline").attr("id");r=e(l)}else var r=e(s);var o=r.data("plugin_horizontalTimeline").Timeline;o._timelineComponents(i);var d,p,h,f,u=n.data("gototimeline"),c=u.date,m=u.scrollspeed,v=u.scrolloffset,_=u.scrolleasing,g={speed:500,offset:0,easing:"linear"};void 0!==u&&(d=c,p=void 0!==m?m:g.speed,h=void 0!==v?v:g.offset,f=void 0!==_?_:g.easing);var y=i.eventsWrapper.find("a"),C=i.eventsWrapper.find("a").filter(function(t,i){var n=o._timelineData(e(i),"date");if(n==d)return e(i)}),b=o._setTimelineWidth(i);a?w(o):e("html, body").stop().animate({scrollTop:r.offset().top-h},p,f,function(){w(o)});function w(e){C.hasClass("selected")||(y.removeClass("selected"),C.addClass("selected"),e._updateOlderEvents(C),e._updateFilling(C,i.fillingLine,b),e._updateVisibleContent(C,i.eventsContent)),e._updateTimelinePosition(C,i,b)}})}if(1==this.settings.useScrollWheel){var c="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";this._setup.mousewheel=function(e,t){this._timelineComponents(s),a=this._setTimelineWidth(s),e.deltaY>0?this._showNewContent(s,a,"prev"):this._showNewContent(s,a,"next");e.preventDefault()},this._addFile(c,"js",e.proxy(function(){t.setTimeout(e.proxy(function(){this.$element.on("mousewheel."+this._name,".events-content",e.proxy(this._setup.mousewheel,this))},this),300)},this))}if(1==this.settings.useTouchSwipe){c="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.18/jquery.touchSwipe.min.js";this._setup.swipe=function(e,t){e._timelineComponents(s),a=e._setTimelineWidth(s),e._showNewContent(s,a,t)},this._addFile(c,"js",e.proxy(function(){t.setTimeout(e.proxy(function(){s.eventsContent.swipe({swipeRight:e.proxy(function(e,t,i,n,s){this._setup.swipe(this,"prev")},this),swipeLeft:e.proxy(function(e,t,i,n,s){this._setup.swipe(this,"next")},this),threshold:75,preventDefaultEvents:!1}),s.timelineWrapper.swipe({swipeRight:e.proxy(function(e,t,i,n,l){var r=this._getTranslateValue(s.eventsWrapper),o=Number(s.timelineWrapper.width());this._translateTimeline(s,i+r,o-a)},this),swipeLeft:e.proxy(function(e,t,i,n,l){var r=this._getTranslateValue(s.eventsWrapper),o=Number(s.timelineWrapper.width());this._translateTimeline(s,-i+r,o-a)},this),threshold:30,preventDefaultEvents:!1})},this),1e3)},this)),s.timelineWrapper.addClass("touch-enabled").parent().siblings(".events-content").addClass("touch-enabled")}if(1==this.settings.useKeyboardKeys){this._setup.keyboardKeys=function(e){this._timelineComponents(s),a=this._setTimelineWidth(s),"37"==e.which&&this._elementInViewport(this.element)?this._showNewContent(s,a,"prev"):"39"==e.which&&this._elementInViewport(this.element)&&this._showNewContent(s,a,"next")};p=this.$element.attr("id");e(n).on("keyup."+this._name+"_"+p,e.proxy(this._setup.keyboardKeys,this))}},r.prototype._timelineData=function(e,t){if(e.data("horizontal-timeline")){var i=e.data("horizontal-timeline");if("date"==t)return i.date;if("customDisplay"==t)return i.customDisplay}else{var n=e.data("date"),s=e.data("custom-display");if("date"==t)return n;if("customDisplay"==t)return s}},r.prototype.refresh=function(){var e={};this._timelineComponents(e),e.eventsContent.find("#first").removeAttr("id").end().find("#last").removeAttr("id").end(),e.eventsWrapper.find(".first").removeClass("first").end().find(".last").removeClass("last").end(),this.init.addIdsAndClasses(this),this._setDatePosition(e),timelineTotalWidth=this._setTimelineWidth(e),this._updateFilling(e.eventsWrapper.find("a.selected"),e.fillingLine,timelineTotalWidth),1==this.settings.autoplay&&this._setup.autoplay.refresh(this),console.log("refreshed #"+this.element.id)},r.prototype.destroy=function(){var i=this.$element,s=i.attr("id"),l=i.data("plugin_"+this._name).originalEventsContent;1==e(".horizontal-timeline .timeline").length&&(e(".goto-horizontal-timeline").off("."+this._name),e("body").removeData("plugin_"+this._name+"_loadedFile")),i.removeClass("loaded").off("."+this._name,"**").find(".timeline").remove().end().find(".events-content").replaceWith(l).swipe("destroy"),i.find(".events-wrapper").removeClass("touch-enabled").swipe("destroy"),e(n).off("."+this._name+"_"+s),e(t).off("."+this._name+"_"+s),1==this.settings.autoplay&&this._setup.autoplay.destroy(),i.removeData("plugin_"+a),console.log("destroyed #"+this.element.id)},r.prototype.addEvent=function(t,i,n){var s={};this._timelineComponents(s);var a=t.split("date")[1].split('"')[2],l=s.eventsContent.find("li").filter(e.proxy(function(t,i){if(this._timelineData(e(i),"date")==n)return e(i)},this)),r=s.eventsWrapper.find("a.selected"),o=this.$element.data("plugin_"+this._name).existingDates;-1==jQuery.inArray(a,o)&&(o.push(a),"before"==i?l.before(t):"after"==i&&l.after(t),this._create.date(this,i,n),this._updateOlderEvents(r),this.refresh())},r.prototype.removeEvent=function(t){var i={};this._timelineComponents(i);var n,s=i.eventsWrapper.find("a").filter(e.proxy(function(i,n){if(this._timelineData(e(n),"date")==t)return e(n)},this)),a=i.eventsContent.find("li").filter(e.proxy(function(i,n){if(this._timelineData(e(n),"date")==t)return e(n)},this)),l=this.$element.data("plugin_"+this._name).existingDates,r=l.indexOf(t);i.timelineEvents.length>1?(s.is(".selected")?(a.removeClass(".selected"),s.next().length?(n=s.next().addClass("selected"),a.next().addClass("selected")):(n=s.prev().addClass("selected"),a.prev().addClass("selected"))):n=i.eventsWrapper.find("a.selected"),this._updateOlderEvents(n),s.remove(),a.remove(),r>-1&&l.splice(r,1),this.refresh()):console.warn("Timeline must always have at least 1 event after initialisation, therefore it can't be removed. Please use the Destroy method instead.")},r.prototype._updateSlide=function(e,t,i){var n=this._getTranslateValue(e.eventsWrapper),s=Number(e.timelineWrapper.width());"right"==i?this._translateTimeline(e,n-s,s-t):this._translateTimeline(e,n+s)},r.prototype._showNewContent=function(e,t,i){var n=e.eventsContent.find(".selected");if("normal"==this.settings.dateOrder)var s="next"==i?n.next():n.prev();else if("reverse"==this.settings.dateOrder)s="next"==i?n.prev():n.next();if(s.length>0||"reverse"==this.settings.dateOrder&&"start"==i){var a,l=e.eventsWrapper.find(".selected");"start"==i?"normal"==this.settings.dateOrder?a=e.eventsWrapper.find(".first"):"reverse"==this.settings.dateOrder&&(a=e.eventsWrapper.find(".last")):"next"==i?a=l.next("a"):"prev"==i&&(a=l.prev("a")),this._updateVisibleContent(a,e.eventsContent),a.addClass("selected"),l.removeClass("selected"),this._updateFilling(a,e.fillingLine,t),this._updateOlderEvents(a),this._updateTimelinePosition(a,e,t)}},r.prototype._updateTimelinePosition=function(e,t,i){var n=Number(e.css("left").replace("px","")),s=t.timelineWrapper.width();this._translateTimeline(t,s/2-n,s-i)},r.prototype._translateTimeline=function(e,t,i){t=t>0?0:t;t=void 0!==i&&t<i?i:t,this._setTransformValue(e.eventsWrapper,"translateX",t+"px"),this._buttonStates(e,t,i)},r.prototype._updateFilling=function(e,t,i){var n=e.css("left").replace("px",""),s=e.css("width").replace("px",""),a=(n=Number(n)+Number(s)/2)/i;this._setTransformValue(t,"scaleX",a)},r.prototype._setDatePosition=function(e){var t=0,n=0,s=0;this._setDateIntervals(e);var a=this._checkMQ();for(1!=this.settings.minimalFirstDateInterval&&"tinyMobile"!=a&&"mobile"!=a||(e.timelineEvents.first().css({left:"0px","padding-left":"10px"}),s=1),i=s;i<e.timelineEvents.length;i++)t=n+dateIntervals,e.timelineEvents.eq(i).css("left",t+"px"),n=t},r.prototype._setTimelineWidth=function(e){var t=0,i=e.timelineWrapper.width(),n=Number(e.timelineEvents.last().css("left").replace("px",""))+100;return t=n<i?i:n,e.eventsWrapper.css("width",t+"px"),this._updateTimelinePosition(e.eventsWrapper.find("a.selected"),e,t),t},r.prototype._updateVisibleContent=function(t,i){var a=this._timelineData(t,"date");if(visibleContent=i.find(".selected"),newContent=i.find("li").filter(e.proxy(function(t,i){if(this._timelineData(e(i),"date")==a)return e(i)},this)),newContentHeight=newContent.outerHeight(),enterObj=this.settings.enter_animationClass,exitObj=this.settings.exit_animationClass,allClasses=exitObj.right+" "+exitObj.left+" "+enterObj.left+" "+enterObj.right,newContent.index()>visibleContent.index())var l="selected "+enterObj.right,r=exitObj.left;else l="selected "+enterObj.left,r=exitObj.right;var o=function(){var e,t=n.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(t.style[e]!==s)return i[e]}();newContent.addClass(l),visibleContent.addClass(r).one(o,function(e){i.find("li").removeClass(allClasses)}).removeClass("selected"),i.height(newContentHeight+"px"),1==this.settings.autoplay&&this._setup.autoplay.moved(this)},r.prototype._updateOlderEvents=function(e){e.prevAll("a").addClass("older-event").end().nextAll("a").removeClass("older-event"),e.is(".selected")&&e.removeClass("older-event")},r.prototype._getTranslateValue=function(e){var i=t.getComputedStyle(e.get(0),null);if((n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform")).indexOf("(")>=0)var n,s=(n=(n=(n=n.split("(")[1]).split(")")[0]).split(","))[4];else s=0;return Number(s)},r.prototype._setTransformValue=function(e,t,i){e.css({"-webkit-transform":t+"("+i+")","-moz-transform":t+"("+i+")","-ms-transform":t+"("+i+")","-o-transform":t+"("+i+")",transform:t+"("+i+")"})},r.prototype._elementInViewport=function(e){for(var i=e.offsetTop,n=e.offsetLeft,s=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)i+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return i<t.pageYOffset+t.innerHeight&&n<t.pageXOffset+t.innerWidth&&i+a>t.pageYOffset&&n+s>t.pageXOffset},r.prototype._setDateIntervals=function(e){var t=this._checkMQ();"tinyMobile"==t||"mobile"==t?dateIntervals=this.settings.mobileDateIntervals:"smallTablet"==t||"tablet"==t?dateIntervals=this.settings.tabletDateIntervals:"desktop"==t&&(dateIntervals=this.settings.desktopDateIntervals);dateIntervals<120&&(dateIntervals=120)},r.prototype._checkMQ=function(){return t.getComputedStyle(this.element,":before").content.replace(/'/g,"").replace(/"/g,"")},r.prototype._buttonStates=function(e,t,i){var n=e.timelineNavigation.find(".next"),s=e.timelineNavigation.find(".prev"),a=e.timelineNavigation.find(".scroll-left"),l=e.timelineNavigation.find(".scroll-right"),r=e.timelineWrapper.find(".first"),o=e.timelineWrapper.find(".last");Number(e.timelineWrapper.css("width").replace("px",""))==e.eventsWrapper.width()&&(a.addClass("inactive"),l.addClass("inactive")),1==e.eventsContentList.length?(s.addClass("inactive"),n.addClass("inactive")):(r.is(".selected")?s.addClass("inactive"):s.removeClass("inactive"),o.is(".selected")?n.addClass("inactive"):n.removeClass("inactive")),0==t?a.addClass("inactive"):a.removeClass("inactive"),t==i?l.addClass("inactive"):l.removeClass("inactive")},r.prototype._addFile=function(t,i,n){if(1==this.settings.addRequiredFile){var s,a=e("body").data("plugin_"+this._name+"_loadedFile"),l="js"==i,r="css"==i,o=t.split("libs/")[1].split("/")[0];l?s=e('script[src*="'+o+'"]'):r&&(s=e('link[href*="'+o+'"]')),null==a&&(a=new Array),-1!=a.indexOf(t)||s.length?s.length&&-1==a.indexOf(t)?(l&&(console.groupCollapsed(o+" on "+this.$element.attr("id")+" timeline"),console.log("The plugin has already been loaded in the document via a <script> tag, no need to load it again."),"function"==typeof n&&n(this)),a.push(t)):l&&(console.groupCollapsed(o+" on "+this.$element.attr("id")+" timeline"),console.log("The plugin has already been loaded, no need to load it again."),"function"==typeof n&&n(this)):(l?(console.groupCollapsed(o+" on "+this.$element.attr("id")+" timeline"),console.log("The plugin isn't loaded."),e.getScript(t).done(function(e,t){"function"==typeof n&&n(this)}).fail(function(e,i,n){console.error("Failed to get "+t+"\n"+e+"\n"+this.settings+"\n"+n)}),console.log("It was loaded dynamically.")):r&&(console.groupCollapsed(o),console.log("The plugin isn't loaded."),e("<link>").attr({href:t,rel:"stylesheet",type:"text/css"}).insertAfter(e("head").find("link").last()),console.log("It was loaded dynamically.")),a.push(t)),l&&console.log("Executed on:",this.$element),console.groupEnd(),e("body").data("plugin_"+this._name+"_loadedFile",a)}else"function"==typeof n&&n(this)},e.fn[a]=function(i){var n,l=arguments,o=e(t).width(),d=e(this).find(".events-content").find("li").map(function(){return e(this).data("horizontal-timeline")?e(this).data("horizontal-timeline").date:e(this).data("date")}).get();return i===s||"object"==typeof i?this.each(function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,{originalEventsContent:e(this).find(".events-content").clone()[0],windowWidth:o,existingDates:d,Timeline:new r(this,i)})}):"string"==typeof i&&"_"!==i[0]&&"init"!==i?(this.each(function(){var t=e.data(this,"plugin_"+a).Timeline;t instanceof r&&"function"==typeof t[i]&&(n=t[i].apply(t,Array.prototype.slice.call(l,1)))}),n!==s?n:this):void 0}}(jQuery,window,document);
